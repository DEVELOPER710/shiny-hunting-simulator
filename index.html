<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Shiny Hunting Simulator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />  <style>
    body {
      font-family: Arial, sans-serif;
      background: #0f1220;
      color: #eee;
      text-align: center;
      padding: 20px;
    }

    h1 { margin-bottom: 4px; }

    input, select, button {
      padding: 8px 12px;
      margin: 6px;
      font-size: 16px;
    }

    button {
      cursor: pointer;
      background: #4cafef;
      border: none;
      border-radius: 6px;
      color: #000;
      font-weight: bold;
    }

    .encounters {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin-top: 20px;
    }

    .poke {
      background: #1b1f3a;
      padding: 10px;
      border-radius: 10px;
      width: 120px;
    }

    .poke img {
      width: 96px;
      height: 96px;
      image-rendering: pixelated;
    }

    .sparkle {
      animation: sparkle 1s infinite alternate;
      filter: drop-shadow(0 0 6px gold);
    }

    @keyframes sparkle {
      from { transform: scale(1); }
      to { transform: scale(1.1); }
    }

    .shiny {
      color: gold;
      font-weight: bold;
    }

    .counter {
      margin-top: 15px;
      font-size: 18px;
    }

    .history, .shiny-log {
      margin-top: 30px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      text-align: left;
      background: #14172c;
      padding: 15px;
      border-radius: 10px;
    }
  </style></head>
<body>  <h1>✨ Shiny Hunting Simulator ✨</h1>
  <div style="font-size:14px; opacity:0.8;">By DEVELOPER710</div>
  <br><br>  <input id="speciesInput" type="text" placeholder="Enter Pokémon name" />  <select id="batch">
    <option value="1">1 encounter</option>
    <option value="2">2 encounters</option>
    <option value="3">3 encounters</option>
    <option value="5">5 encounters</option>
  </select>  <br>
  <button onclick="startHunt()">Start</button>
  <button onclick="nextEncounter()">Next</button>  <div class="counter">
    Encounters since last shiny: <span id="counter">0</span><br>
    Total lifetime encounters: <span id="lifetime">0</span>
  </div>  <div class="history">
    <h3>Encounters since last shiny</h3>
    <ul id="recent"></ul>
  </div>  <div class="encounters" id="encounters"></div>  <div class="shiny-log">
    <h3>✨ Shinies Found ✨</h3>
    <ul id="shinyList"></ul>
  </div><script>
const shinyOdds = 30000;

let counter = parseInt(localStorage.getItem("currentCounter")) || 0;
let lifetimeCounter = parseInt(localStorage.getItem("lifetimeCounter")) || 0;
let shinyHistory = JSON.parse(localStorage.getItem("shinyHistory")) || [];
let recentList = [];
let currentPokemon = null;

const speciesInput = document.getElementById("speciesInput");
const encountersDiv = document.getElementById("encounters");
const counterSpan = document.getElementById("counter");
const lifetimeSpan = document.getElementById("lifetime");
const recentUl = document.getElementById("recent");
const shinyUl = document.getElementById("shinyList");

counterSpan.textContent = counter;
lifetimeSpan.textContent = lifetimeCounter;

shinyHistory.forEach(entry => {
  const li = document.createElement("li");
  li.innerHTML = entry;
  shinyUl.appendChild(li);
});

function startHunt() {
  const name = speciesInput.value.trim().toLowerCase();
  if (!name) {
    alert("Please enter a Pokémon name.");
    return;
  }

  encountersDiv.innerHTML = "Loading...";

  fetch(`https://pokeapi.co/api/v2/pokemon/${name}`)
    .then(res => {
      if (!res.ok) throw new Error();
      return res.json();
    })
    .then(poke => {
      currentPokemon = poke;
      runEncounter();
    })
    .catch(() => {
      encountersDiv.innerHTML = "";
      alert("❌ Pokémon not found. Use official Pokédex names.");
    });
}

function nextEncounter() {
  if (!currentPokemon) {
    alert("Start a hunt first.");
    return;
  }
  runEncounter();
}

function runEncounter() {
  const batch = parseInt(document.getElementById("batch").value);
  encountersDiv.innerHTML = "";

  for (let i = 0; i < batch; i++) {
    counter++;
    lifetimeCounter++;

    localStorage.setItem("currentCounter", counter);
    localStorage.setItem("lifetimeCounter", lifetimeCounter);

    counterSpan.textContent = counter;
    lifetimeSpan.textContent = lifetimeCounter;

    const isShiny = Math.floor(Math.random() * shinyOdds) === 0;

    const box = document.createElement("div");
    box.className = "poke";

    const img = document.createElement("img");
    img.src = isShiny
      ? currentPokemon.sprites.front_shiny
      : currentPokemon.sprites.front_default;

    if (isShiny) img.classList.add("sparkle");

    const label = document.createElement("div");
    label.textContent = isShiny
      ? `✨ Shiny ${capitalize(currentPokemon.name)}`
      : capitalize(currentPokemon.name);

    if (isShiny) label.classList.add("shiny");

    box.appendChild(img);
    box.appendChild(label);
    encountersDiv.appendChild(box);

    recentList.push(label.textContent);

    if (isShiny) {
      const entry = `✨ Shiny ${capitalize(currentPokemon.name)} — ${counter} encounters since last shiny`;
      const li = document.createElement("li");
      li.innerHTML = entry;
      shinyUl.appendChild(li);

      shinyHistory.push(entry);
      localStorage.setItem("shinyHistory", JSON.stringify(shinyHistory));

      counter = 0;
      localStorage.setItem("currentCounter", counter);
      counterSpan.textContent = counter;
      recentList = [];
    }
  }

  renderRecent();
}

function renderRecent() {
  recentUl.innerHTML = "";
  recentList.forEach(n => {
    const li = document.createElement("li");
    li.textContent = n;
    recentUl.appendChild(li);
  });
}

function capitalize(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
}
</script></body>
</html>
